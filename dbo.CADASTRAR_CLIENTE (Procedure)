USE [PIMIII]
GO
/****** Object:  StoredProcedure [dbo].[CADASTRAR_CLIENTE]    Script Date: 14/11/2016 13:46:05 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
ALTER PROCEDURE [dbo].[CADASTRAR_CLIENTE]
--INFORMAÇÕES DO CLIENTE
@NOME VARCHAR (255), @CPF VARCHAR(14), @CNH VARCHAR (15),  @RG VARCHAR (12), @ORGAO_EMISSOR VARCHAR (20), @DATA_EMISSAO VARCHAR (12),  @TELEFONE VARCHAR (12), @EMAIL VARCHAR (100), @CLI_STATUS VARCHAR (1), @DATA_NASC VARCHAR (12), 

--INFORMAÇÕES DO ENDEREÇO DO CLIENTE (TABLE DIVIDIDA)
@CEP VARCHAR (9),@RUA VARCHAR(225), @COMPLEMENTO VARCHAR (25), @CIDADE VARCHAR(225), @UF VARCHAR(2) 
WITH EXECUTE AS CALLER
AS

--CLIENTE_INFOS
INSERT INTO CLIENTE (NOME, CPF, CNH, RG, ORGAO_EMISSOR, DATA_EMISSAO, TELEFONE, EMAIL, CLI_STATUS, DATA_NASC)
VALUES (@NOME, @CPF, @CNH, @RG, @ORGAO_EMISSOR, @DATA_EMISSAO, @TELEFONE, @EMAIL, @CLI_STATUS, @DATA_NASC);

--ENDERECO_CLIENTE_INFOS
INSERT INTO ENDERECO (CEP, Rua, Complemento, Cidade, Sigla_Estado)
VALUES (@CEP, @RUA, @COMPLEMENTO, @CIDADE, @UF);
